.INCLUDE "m48def.inc"
.DEF	TEMP=R16

.ESEG
EECONST:
	.DB	0xf0, 0x0F

.CSEG
.ORG	0
	RJMP	RESET
.ORG 	0x1A
RESET:
	CLR		TEMP
	OUT		DDRB, TEMP
	LDI		TEMP, 0xFF
	OUT		DDRD, TEMP
	OUT		PORTB, TEMP
LOOP:	
	LDI		TEMP, EECONST
	OUT		EEARL, TEMP
	LDI		TEMP, (1<<EERE)
	OUT		EECR, TEMP
	IN		TEMP, EEDR
	OUT		PORTD, TEMP
	NOP
	NOP
	LDI		TEMP, EECONST+1
	OUT		EEARL, TEMP
	LDI		TEMP, (1<<EERE)
	OUT		EECR, TEMP
	IN		TEMP, EEDR
	OUT		PORTD, TEMP
	
	RJMP	LOOP
	.EXIT
